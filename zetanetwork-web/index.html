<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zeta Network</title>
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:system-ui;max-width:700px;margin:2rem auto;padding:0 1rem;background:#0a0a0a;color:#ddd}
        h1{color:#00d4ff;margin-bottom:.3rem}
        #s{color:#888;font-size:.85rem;margin:.3rem 0}
        #s.ok{color:#4caf50}#s.err{color:#f44336}
        #f{border:1px solid #222;border-radius:8px;padding:1rem;height:60vh;overflow-y:auto;margin:1rem 0;background:#111}
        #f div{padding:.3rem 0;border-bottom:1px solid #1a1a1a;word-wrap:break-word}
        .r{display:flex;gap:.5rem}
        input{flex:1;padding:.6rem;border:1px solid #333;border-radius:6px;background:#111;color:#ddd;font-size:1rem;outline:0}
        input:focus{border-color:#00d4ff}
        button{padding:.6rem 1.2rem;border:0;border-radius:6px;background:#00d4ff;color:#000;font-weight:700;cursor:pointer}
    </style>
</head>
<body>
    <h1>⚡ Zeta Network</h1>
    <div id="s">Connexion...</div>
    <div id="f"></div>
    <div class="r">
        <input id="m" placeholder="Message..." autofocus>
        <button onclick="send()">Envoyer</button>
    </div>
<script>
const s=document.getElementById('s'),f=document.getElementById('f'),m=document.getElementById('m');
let ws;
function connect(){
    const proto=location.protocol==='https:'?'wss:':'ws:';
    ws=new WebSocket(proto+'//'+location.host+'/ws');
    ws.onopen=()=>{s.textContent='✅ Connecté';s.className='ok'};
    ws.onmessage=e=>{const d=document.createElement('div');d.textContent=e.data;f.appendChild(d);f.scrollTop=f.scrollHeight};
    ws.onclose=()=>{s.textContent='⏳ Reconnexion...';s.className='err';setTimeout(connect,2000)};
    ws.onerror=()=>{s.className='err'};
}
function send(){const t=m.value.trim();if(t&&ws?.readyState===1){ws.send(t);m.value=''}}
m.onkeydown=e=>{if(e.key==='Enter')send()};
connect();
</script>
</body>
</html>